解读101个量化因子｜Alpha#10: 条件趋势策略

**公式**: `rank(((0 < ts_min(delta(close, 1), 4)) ? delta(close, 1) : ((ts_max(delta(close, 1), 4) < 0) ? delta(close, 1) : (-1 * delta(close, 1)))))`

**核心逻辑**:

1. **持续上涨?**: 若过去4天每日价格均上涨 (`ts_min(delta(close,1),4) > 0`)，则取今日价格变动 `delta(close,1)` (趋势跟随)。
2. **持续下跌?**: 否则，若过去4天每日价格均下跌 (`ts_max(delta(close,1),4) < 0`)，则取今日价格变动 `delta(close,1)` (趋势跟随)。
3. **盘整/波动?**: 否则 (即过去4天有涨有跌)，则取今日价格变动的相反数 `-1 * delta(close,1)` (反转)。
4. **排名**: 对上述条件逻辑产生的值进行横截面排名，得到最终 Alpha。

**解读**: 在短期趋势明朗（持续上涨或下跌）时，因子倾向于跟随趋势；在短期趋势不明朗（震荡）时，因子倾向于反转今日的日内变动。

---

### 日本語訳

101の量的要因の解釈｜Alpha#10: 条件付きトレンド戦略

**数式**: `rank(((0 < ts_min(delta(close, 1), 4)) ? delta(close, 1) : ((ts_max(delta(close, 1), 4) < 0) ? delta(close, 1) : (-1 * delta(close, 1)))))`

**コアロジック**:

1. **継続的な上昇？**: 過去4日間、毎日の価格が上昇した場合 (`ts_min(delta(close,1),4) > 0`)、本日の価格変動 `delta(close,1)` を取ります（トレンドフォロー）。
2. **継続的な下落？**: そうでなければ、過去4日間、毎日の価格が下落した場合 (`ts_max(delta(close,1),4) < 0`)、本日の価格変動 `delta(close,1)` を取ります（トレンドフォロー）。
3. **横ばい/変動？**: そうでなければ（つまり過去4日間に上昇と下落があった場合）、本日の価格変動の逆数 `-1 * delta(close,1)` を取ります（リバーサル）。
4. **ランキング**: 上記の条件ロジックによって生成された値に対してクロスセクションランキングを行い、最終的なAlphaを取得します。

**解釈**: 短期的なトレンドが明確な場合（継続的な上昇または下落）、ファクターはトレンドに従う傾向があります。短期的なトレンドが不明確な場合（横ばい）、ファクターは本日の日中変動を反転させる傾向があります。
