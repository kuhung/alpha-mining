解读101个量化因子｜Alpha#9 条件趋势策略

**公式**: `((0 < ts_min(delta(close, 1), 5)) ? delta(close, 1) : ((ts_max(delta(close, 1), 5) < 0) ? delta(close, 1) : (-1 * delta(close, 1))))`

**核心逻辑**: 根据过去5天的日价格变动判断市场状态：

1. **持续上涨**: 若过去5天每日最低涨幅 > 0，则跟随当日趋势 (`delta(close, 1)`).
2. **持续下跌**: 若过去5天每日最高涨幅 < 0 (即每天都跌)，则跟随当日趋势 (`delta(close, 1)`).
3. **震荡市**: 其他情况（有涨有跌），则反转当日趋势 (`-1 * delta(close, 1)`).

**解读**: 在短期趋势明朗（全涨或全跌）时顺势而为；在短期趋势不明（震荡）时则采取反向操作。

---

### 日本語訳

101の量的要因の解釈｜Alpha#9 条件付きトレンド戦略

**数式**: `((0 < ts_min(delta(close, 1), 5)) ? delta(close, 1) : ((ts_max(delta(close, 1), 5) < 0) ? delta(close, 1) : (-1 * delta(close, 1))))`

**コアロジック**: 過去5日間の日次価格変動に基づいて市場の状態を判断します：

1. **継続的な上昇**: 過去5日間の毎日の最低上昇率 > 0 の場合、当日のトレンドに従います (`delta(close, 1)`)。
2. **継続的な下落**: 過去5日間の毎日の最高上昇率 < 0 (つまり毎日下落) の場合、当日のトレンドに従います (`delta(close, 1)`)。
3. **レンジ相場**: その他の状況（上昇と下落の両方がある場合）、当日のトレンドを反転させます (`-1 * delta(close, 1)`)。

**解釈**: 短期的なトレンドが明確な場合（全て上昇または全て下落）はトレンドに従い、短期的なトレンドが不明確な場合（レンジ相場）は逆の操作を行います。
